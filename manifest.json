{
    "id": "org.meshforge.extension.maps",
    "name": "MeshForge Maps",
    "version": "0.7.0-beta",
    "description": "Unified multi-source mesh network map aggregating Meshtastic, Reticulum/RMAP, HamClock, and AREDN data with live MQTT, topology visualization, and offline tile caching",
    "author": "MeshForge Community",
    "type": "extension",
    "entry_point": "src/main.py",
    "min_meshforge_version": "0.5.0",
    "homepage": "https://github.com/Nursedude/meshforge-maps",
    "license": "GPL-3.0",
    "icon": "map-symbolic",
    "category": "Maps",
    "tags": [
        "map",
        "meshtastic",
        "reticulum",
        "rns",
        "rmap",
        "hamclock",
        "aredn",
        "leaflet",
        "geojson",
        "noc",
        "mqtt",
        "topology",
        "d3",
        "offline"
    ],
    "dependencies": [],
    "optional_dependencies": [
        "paho-mqtt",
        "meshtastic",
        "pyopenssl",
        "cryptography"
    ],
    "permissions": [
        "network_access"
    ],
    "premium": false,
    "settings_schema": {
        "default_tile_provider": {
            "type": "choice",
            "choices": [
                "carto_dark",
                "osm_standard",
                "osm_topo",
                "esri_satellite",
                "esri_topo",
                "stadia_terrain"
            ],
            "default": "carto_dark",
            "label": "Default Map Style"
        },
        "enable_meshtastic": {
            "type": "boolean",
            "default": true,
            "label": "Enable Meshtastic Layer"
        },
        "enable_reticulum": {
            "type": "boolean",
            "default": true,
            "label": "Enable Reticulum/RMAP Layer"
        },
        "enable_hamclock": {
            "type": "boolean",
            "default": true,
            "label": "Enable HamClock Layer"
        },
        "enable_aredn": {
            "type": "boolean",
            "default": true,
            "label": "Enable AREDN Layer"
        },
        "map_center_lat": {
            "type": "number",
            "default": 20.0,
            "label": "Default Center Latitude"
        },
        "map_center_lon": {
            "type": "number",
            "default": -100.0,
            "label": "Default Center Longitude"
        },
        "map_default_zoom": {
            "type": "number",
            "default": 4,
            "label": "Default Zoom Level"
        },
        "cache_ttl_minutes": {
            "type": "number",
            "default": 15,
            "label": "Data Cache TTL (minutes)"
        },
        "http_port": {
            "type": "number",
            "default": 8808,
            "label": "Map Server HTTP Port"
        },
        "http_host": {
            "type": "string",
            "default": "127.0.0.1",
            "label": "HTTP Bind Address"
        },
        "ws_host": {
            "type": "string",
            "default": "127.0.0.1",
            "label": "WebSocket Bind Address"
        },
        "enable_noaa_alerts": {
            "type": "boolean",
            "default": true,
            "label": "Enable NOAA Weather Alerts"
        },
        "noaa_alerts_area": {
            "type": "string",
            "default": null,
            "label": "NOAA Alerts Area (state code, e.g. TX)"
        },
        "noaa_alerts_severity": {
            "type": "string",
            "default": null,
            "label": "NOAA Severity Filter (e.g. Extreme,Severe)"
        },
        "meshtastic_source": {
            "type": "choice",
            "choices": ["auto", "mqtt_only", "local_only"],
            "default": "auto",
            "label": "Meshtastic Data Source"
        },
        "meshtastic_proxy_port": {
            "type": "number",
            "default": 4404,
            "label": "Meshtastic Proxy Port"
        },
        "mqtt_broker": {
            "type": "string",
            "default": "mqtt.meshtastic.org",
            "label": "MQTT Broker Host"
        },
        "mqtt_port": {
            "type": "number",
            "default": 1883,
            "label": "MQTT Broker Port"
        },
        "mqtt_topic": {
            "type": "string",
            "default": "msh/#",
            "label": "MQTT Topic"
        },
        "mqtt_username": {
            "type": "string",
            "default": null,
            "label": "MQTT Username"
        },
        "mqtt_password": {
            "type": "password",
            "default": null,
            "label": "MQTT Password"
        },
        "hamclock_host": {
            "type": "string",
            "default": "localhost",
            "label": "HamClock Host"
        },
        "hamclock_port": {
            "type": "number",
            "default": 8080,
            "label": "HamClock Port"
        },
        "openhamclock_port": {
            "type": "number",
            "default": 3000,
            "label": "OpenHamClock Port"
        },
        "api_key": {
            "type": "password",
            "default": null,
            "label": "API Key (optional)"
        },
        "cors_allowed_origin": {
            "type": "string",
            "default": null,
            "label": "CORS Allowed Origin"
        }
    }
}
